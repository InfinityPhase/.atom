'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = filterMatchingPaths;

var _path = require('path');

var _removeExtension = require('./removeExtension');

var _removeExtension2 = _interopRequireDefault(_removeExtension);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var indexRegex = new RegExp('\\' + _path.sep + 'index$');

function filterMatchingPaths(basedir, filePath) {
  var normalizedFilePath = (0, _removeExtension2.default)((0, _path.normalize)(filePath));
  var normalizedFilePathNoIndex = normalizedFilePath.replace(indexRegex, '');

  return function (path) {
    var testPath = (0, _path.resolve)(basedir, path.value.value);
    return testPath === normalizedFilePath || testPath === normalizedFilePathNoIndex;
  };
}